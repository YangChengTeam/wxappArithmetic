<!--index.wxml-->
<view class="container">
     <image class="main-bg" src='../../assets/images/main-bg.jpg'></image>
     <view class="main-content">
          <view class="user-related">
      <image src="../../assets/images/userinfo-bg.png"></image>
      <view class="user-info-wrap">
        <view class="user-info">
          <image class="user-head" src="{{ isLogin ? userInfo.face : '../../assets/images/avatar.png' }}"></image>
          <view class="user-info-desc">
            <view class="user-game-info mb30">
              <view class="username">{{ isLogin ? userInfo.nick_name: '请登录' }}</view>
              <image bindtap='navigateToRule' class="help" src='../../assets/images/help.png'></image>
            </view>
            <view class="user-game-info">
              <view class="user-challenge-times">剩余次数: {{userInfo.playable_num}} 次</view>
              <view class="user-score">挑战次数: {{ userInfo.played_num }} 次</view>
            </view>
          </view>
        </view>
        <view class="user-info-prize">
          <view class="user-prize-bg">
            <image src="../../assets/images/user-info-prize.png"></image>
            <view class="user-money-title">赏金余额：</view>
            <view class="user-money">{{ userInfo.money }}元</view>
          </view>
          <view class="user-money-take" bindtap='takeMoney'>
            <image bindtap='navigateToCash' src='../../assets/images/user-money-take.png'></image>
          </view>
        </view>
      </view>
      <button class="{{isLogin ? 'login' : 'nologin'}}" open-type='getUserInfo' bindgetuserinfo="doLogin"></button>

    </view>
          <view class="game-related">
              <view animation="{{gameStart_animationData}}" bindtouchstart='start' bindtouchend='end' data-index="0" bindtouchcancel='end' class="game-start">
                  <image src="../../assets/images/game-start.png"></image>
                  <view class="game-challenge-times">当前共有 {{userInfo.total_num}} 次挑战</view>
                  <button  open-type='getUserInfo' bindgetuserinfo="loginToStart"></button>
              </view>
              <view class="game-excite" >
                  <image src='../../assets/images/game-rank.png' bindtap='navigateToRank' animation="{{rank_animationData}}" bindtouchstart='start' bindtouchend='end' data-index="1" bindtouchcancel='end'></image>
                  <view animation="{{prize_animationData}}" bindtouchstart='start' bindtouchend='end' data-index="2" bindtouchcancel='end' class="game-prize" bindtap='navigateToPrize'>
                       <image src='../../assets/images/game-prize.png'></image>
                       <view class="game-prize-text">免费换娃娃</view>
                  </view>
              </view>
          </view>
          <view class="invite" animation="{{invateFriend_animationData}}" bindtouchstart='start' bindtouchend='end' data-index="3" bindtouchcancel='end'>
             <image src='../../assets/images/invite-friend.png'></image>
             <view class="invite-text">分享给朋友一起来挑战</view>
             <button open-type='share'></button>
          </view>
          <view class="more" >
             <image animation="{{more_animationData}}" bindtouchstart='start' bindtouchend='end' data-index="4" bindtouchcancel='end' src='../../assets/images/more.png' bindtap='navigateToMore'></image>
             <image animation="{{rule_animationData}}" bindtouchstart='start' bindtouchend='end' data-index="5" bindtouchcancel='end' src='../../assets/images/game-rule.png' bindtap='navigateToRule'></image>
          </view>
     </view>
</view>
